<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <!-- Primary Meta Tags -->
    <title>{% if page.title and page.title != 'Home' %}{{ page.title }} | {% endif %}Jeralmi Canela - Indie Game Developer</title>
    <meta name="title" content="{% if page.title and page.title != 'Home' %}{{ page.title }} | {% endif %}Jeralmi Canela - Indie Game Developer">
    <meta name="description" content="{% if page.description %}{{ page.description }}{% else %}Jeralmi Canela is an indie game developer, designer, and programmer specializing in game design, level design, and 3D art.{% endif %}">
    <meta name="keywords" content="Jeralmi Canela, indie game developer, game designer, game programmer, level designer, 3D artist, indie games">
    <meta name="author" content="Jeralmi Canela">
    {% if page.robots %}
    <meta name="robots" content="{{ page.robots }}">
    {% else %}
    <meta name="robots" content="index, follow">
    {% endif %}
    <link rel="canonical" href="https://jeralmics.com{{ page.url }}">
    
    <!-- Theme Color for Mobile Browsers -->
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jeralmics.com{{ page.url }}">
    <meta property="og:title" content="{% if page.title and page.title != 'Home' %}{{ page.title }} | {% endif %}Jeralmi Canela - Indie Game Developer">
    <meta property="og:description" content="{% if page.description %}{{ page.description }}{% else %}Indie game developer, designer, and programmer. Portfolio showcasing game design, level design, and 3D art.{% endif %}">
    <meta property="og:image" content="https://jeralmics.com/images/{% if page.slug %}{{ page.slug }}.jpg{% else %}infiniteroads.jpg{% endif %}">
    <meta property="og:site_name" content="Jeralmi Canela Portfolio">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://jeralmics.com{{ page.url }}">
    <meta property="twitter:title" content="{% if page.title and page.title != 'Home' %}{{ page.title }} | {% endif %}Jeralmi Canela - Indie Game Developer">
    <meta property="twitter:description" content="{% if page.description %}{{ page.description }}{% else %}Indie game developer, designer, and programmer. Portfolio showcasing game design work.{% endif %}">
    <meta property="twitter:image" content="https://jeralmics.com/images/{% if page.slug %}{{ page.slug }}.jpg{% else %}infiniteroads.jpg{% endif %}">
    <meta property="twitter:creator" content="@jeralmics">
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Jeralmi Canela",
      "url": "https://jeralmics.com",
      "image": "https://jeralmics.com/images/infiniteroads.jpg",
      "jobTitle": "Indie Game Developer",
      "sameAs": [
        "https://x.com/Jeralmics",
        "https://uhminc.itch.io"
      ],
      "knowsAbout": [
        "Game Design",
        "Level Design",
        "3D Modeling",
        "Programming",
        "Indie Game Development"
      ]
    }
    </script>
    
    <!-- Preload Critical Assets -->
    <link rel="preload" href="/assets/css/main.css" as="style">
    
    <!-- Preload hero image -->
    {% if page.slug %}
    <link rel="preload" href="/images/{{ page.slug }}.jpg" as="image">
    {% endif %}
    
    <!-- Base Styles (always needed) -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <!-- Page-specific Styles -->
    {% if page.url == "/" or page.url == "/index.html" %}
    <link rel="stylesheet" href="/assets/css/home.css">
    {% elsif page.layout == 'project' %}
    <link rel="stylesheet" href="/assets/css/project.css">
    {% endif %}
    
</head>
<body>
    
    {% unless page.url == "/" or page.url == "/index.html" %}
    {% include header.html %}
    {% endunless %}

    <main>
        {{ content }}
    </main>

    <!-- JavaScript - Deferred for Performance -->
    {% if page.url == "/" or page.url == "/index.html" %}
    <script src="/assets/js/folder-transition.js" defer></script>
    {% else %}
    <script src="/assets/js/page-transitions.js" defer></script>
    {% endif %}
    
    {% if page.layout == 'project' %}
    <script src="/assets/js/carousel.js" defer></script>
    {% endif %}
    
    <!-- UX Enhancements (load last, non-critical) -->
    <script src="/assets/js/ux-enhancements.js" defer></script>
    
</body>
</html>